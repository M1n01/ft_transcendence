{% load static %} {% load i18n %}
<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pong</title>
  </head>
  <body>
    <h1>Pong Game</h1>

    <div id="connection-error-message" class="text-danger mt-4 mb-4" hidden>
      {% trans 'サーバーとの通信に失敗しました' %}
      <br />
      <!---->
      {% trans '画面を更新してください' %}
    </div>
    <form
      id="add-score-game"
      method="post"
      action="{% url 'pong:add-score' pk=object.pk  %}"
      class="w-100"
      hidden
    >
      {% csrf_token %}
      <input name="player1_score" type="hidden" value="0" id="add-player1-score" />
      <input name="player2_score" type="hidden" value="0" id="add-player2-score" />
    </form>

    <div id="pong-canvas-block" class="mt-4">
      <div class="container">
        <div class="row align-items-start">
          <div class="col-6 text-end pe-3">
            <div class="d-flex flex-column">
              <div class="d-flex justify-content-end">
                <img src="" id="player1-win" height="30" width="30" hidden />
              </div>
            </div>
          </div>
          <div class="col-6 text-start ps-3">
            <div class="d-flex flex-column">
              <div class="d-flex justify-content-start">
                <img src="" id="player2-win" height="30" width="30" hidden />
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="d-flex">
        <div class="container">
          <div class="row align-items-start">
            <div class="col-6 text-end pe-3">
              <div class="d-flex flex-column">
                <div class="d-flex justify-content-end">
                  <img src="" id="player1-win" height="40" width="40" hidden />
                </div>
                <span>Score: <span id="player1_current_score">{{match.player1_score}}</span></span>
                <span class="text-truncate">{{match.player1_alias}}</span>
              </div>
            </div>
            <div class="col-6 text-start ps-3">
              <div class="d-flex flex-column">
                <img src="" id="player2-win" height="40" width="40" hidden />
                <span>Score: <span id="player2_current_score">{{match.player2_score}}</span></span>
                <span class="text-truncate">{{match.player2_alias}}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <canvas id="myCanvas"></canvas>
      <!---->
      <div class="d-flex justify-content-end">
        <button
          id="back-games-button"
          onclick="window.history.go(-1);"
          class="btn btn-primary"
          hidden
        >
          {% trans '戻る'%}
        </button>

        <!--
        <form id="start-next-game" method="post" action="{% url 'pong:start'  %}" class="">
          {% csrf_token %}
          {% if match.player2 %}
          <input name="type" type="hidden" value="tournament" />
          {% else %}
          <input name="type" type="hidden" value="test" />
          {% endif %}

          <button type="submit" class="btn btn-primary">{% trans '次のゲーム' %}</button>
        </form>
-->
      </div>
    </div>
  </body>
</html>

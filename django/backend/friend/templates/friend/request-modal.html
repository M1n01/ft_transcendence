{% load i18n %}
<div
  class="modal fade"
  id="friendRequestModal"
  tabindex="-1"
  aria-labelledby="registerModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <div class="d-flex justify-content-center w-100">
          <h5 class="modal-title text-dark">
            <div class="d-block">
              <!--
              <img id="friend-user-icon-head" src="" width="200" height="200" />
-->

              <div class="avatar-background-mini">
                <div
                  id="friend-user-icon-head"
                  style="background-image: url('{{request.user.avatar.url}}');   "
                  class="avatar-background-img-mini"
                ></div>
              </div>
              <div
                id="friend-user-name-head"
                class="d-flex justify-content-center text-break text-wrap px-2"
              >
                {% trans 'ユーザー名' %}
              </div>
            </div>
          </h5>
        </div>
        <div class="position-absolute top-0 end-0 mt-3 me-3">
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
      </div>
      <div class="modal-body">
        <form
          id="friend-request"
          method="post"
          action="{% url 'friend:request' %}"
          class="w-100 friend-request"
        >
          {% csrf_token %}

          <input id="modal-userid" name="userid" type="text" value="userid" hidden />

          <div id="friend-request-send-error" class="mb-1 text-danger" hidden>
            {% trans "エラーが発生しました" %}
            <br />
            {% trans "相手がすでに登録したかもしれません" %}
            <br />
            {% trans "フレンドリクエストを確認してください" %}
          </div>

          <div class="mb-3 text-dark">
            <label for="exampleFormControlTextarea1" class="form-label"
              >{% trans "メッセージ" %}</label
            >
            <textarea
              name="request-message"
              class="form-control"
              id="exampleFormControlTextarea1"
              rows="3"
              maxlength="200"
            ></textarea>
          </div>

          <div class="d-flex justify-content-end mt-3">
            <button
              id="close-register-modal"
              type="button"
              class="btn btn-secondary me-4"
              data-bs-dismiss="modal"
            >
              {% trans 'キャンセル' %}
            </button>
            <button type="submit" class="btn btn-primary me-4">{% trans '申請' %}</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

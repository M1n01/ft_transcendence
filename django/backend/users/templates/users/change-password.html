{% load static %} {% load i18n %}
<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% trans "Change Password" %}</title>
  </head>
  <body>
    <h1>{% trans "Change Password" %}</h1>
    <div class="">
      <form method="POST" id="change-password-form" action="{% url 'users:change-password' %}">
        {% csrf_token %}
        <div class="table-responsive w-100">
          <table class="w-max-100 ">
            <tbody>
              {% if user.is_ft == False %}
              <tr>
                <td>{% trans "現在のパスワード" %}</td>
                <td>{{ form.old_password }}</td>
              </tr>
              <tr>
                <td></td>
                <td id="old-password-errors" class="text-start">
                  {% if form.old_password.errors %}
                  <ul class="errorlist">
                    {% for error in form.old_password.errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                  </ul>
                  {% endif %}
                </td>
              </tr>
              <tr>
                <td>{% trans "新しいパスワード" %}</td>
                <td>{{ form.new_password1 }}</td>
              </tr>
              <tr>
                <td></td>
                <td id="new-password1-errors" class="text-start">
                  {% if form.new_password1.errors %}
                  <ul class="errorlist">
                    {% for error in form.new_password1.errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                  </ul>
                  {% endif %}
                </td>
              </tr>

              <tr>
                <td>{% trans "新しいパスワード（確認用）" %}</td>
                <td>{{ form.new_password2 }}</td>
              </tr>
              <tr>
                <td></td>
                <td id="new-password2-errors" class="text-start">
                  {% if form.new_password2.errors %}
                  <ul class="errorlist">
                    {% for error in form.new_password2.errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                  </ul>
                  {% endif %}
                </td>
              </tr>

              <tr>
                <td></td>
                <td colspan="3" class="d-flex justify-content-end mt-4">
                  <a href="/users/profile" class="btn btn-secondary me-2" data-link
                    >{% trans "戻る" %}</a
                  >
                  <button type="submit" class="btn btn-primary" form="change-password-form">
                    {% trans "変更" %}
                  </button>
                </td>
              </tr>
              {% else %}
              <tr>
                <td>{% trans "42OAuthでログインされたアカウントでは、ご利用できません。" %}</td>
              </tr>
              <tr>
                <td colspan="3" class="d-flex justify-content-end mt-4">
                  <a href="/users/profile" class="btn btn-secondary me-2" data-link
                    >{% trans "戻る" %}</a
                  >
                </td>
              </tr>
              {% endif %}
            </tbody>
          </table>
        </div>
      </form>
    </div>
  </body>
</html>

<mxfile host="Electron" modified="2024-07-13T14:53:05.731Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/24.6.4 Chrome/124.0.6367.207 Electron/30.0.6 Safari/537.36" etag="xTvxHCs7RLYwxWLnR9Zh" version="24.6.4" type="device">
  <diagram name="ページ1" id="BZ679HqHYN-f6N7kkafn">
    <mxGraphModel dx="1951" dy="2223" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="viRia6CCxlvn38mifEN6-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="viRia6CCxlvn38mifEN6-1" target="viRia6CCxlvn38mifEN6-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-7" value="Webサイト登録" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" parent="viRia6CCxlvn38mifEN6-6" vertex="1" connectable="0">
          <mxGeometry x="0.237" y="3" relative="1" as="geometry">
            <mxPoint x="-27" y="-12" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-1" value="Pongサイト管理者" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="80" y="80" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-2" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#232F3D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.user;" parent="1" vertex="1">
          <mxGeometry x="141" y="110" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-4" value="42認可サーバー&lt;div&gt;&lt;br/&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="560" y="80" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="viRia6CCxlvn38mifEN6-11" target="viRia6CCxlvn38mifEN6-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-16" value="42 Oauthで認証要求" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" parent="viRia6CCxlvn38mifEN6-15" vertex="1" connectable="0">
          <mxGeometry x="0.2291" y="1" relative="1" as="geometry">
            <mxPoint x="-19" y="-9" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-11" value="Pongサイト利用者(ブラウザ)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="81" y="280" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-12" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#232F3D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.user;" parent="1" vertex="1">
          <mxGeometry x="141" y="310" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="viRia6CCxlvn38mifEN6-13" target="viRia6CCxlvn38mifEN6-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="290" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-18" value="URLを渡す" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" parent="viRia6CCxlvn38mifEN6-17" vertex="1" connectable="0">
          <mxGeometry x="-0.2768" y="2" relative="1" as="geometry">
            <mxPoint x="-45" y="-12" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-13" value="Pongサイト&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="561" y="280" width="205" height="120" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-14" value="次のものが生成or登録される&#xa;・client_id&#xa;・client_secret&#xa;・redirect_url" style="rounded=0;align=left;fillColor=none;strokeColor=none;fontColor=default;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="580" y="120" width="180" height="78" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-19" value="以下のものを用いてURLを作成&#xa;・client_id&#xa;・redirect_url&#xa;・state(ランダムな文字列)" style="rounded=0;align=left;fillColor=none;strokeColor=none;fontColor=default;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="570" y="310" width="180" height="78" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="viRia6CCxlvn38mifEN6-20" target="viRia6CCxlvn38mifEN6-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-48" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;redirect_urlにリダイレクト&lt;/span&gt;&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;state &amp;amp; codeを付与する&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="viRia6CCxlvn38mifEN6-46" vertex="1" connectable="0">
          <mxGeometry x="-0.3061" relative="1" as="geometry">
            <mxPoint x="-90" y="12" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="viRia6CCxlvn38mifEN6-20" target="viRia6CCxlvn38mifEN6-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-20" value="42認可サーバー&lt;div&gt;&lt;br/&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="560" y="480" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-21" value="以下のものをクエリに登録する&#xa;・state&#xa;・code" style="rounded=0;align=left;fillColor=none;strokeColor=none;fontColor=default;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="580" y="507" width="180" height="78" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="viRia6CCxlvn38mifEN6-22" target="viRia6CCxlvn38mifEN6-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-29" value="Pongサイトから受け取ったURLにアクセス" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" parent="viRia6CCxlvn38mifEN6-24" vertex="1" connectable="0">
          <mxGeometry x="0.1429" y="3" relative="1" as="geometry">
            <mxPoint x="-20" y="-14" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="1" source="viRia6CCxlvn38mifEN6-22" target="viRia6CCxlvn38mifEN6-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-22" value="Pongサイト利用者(ブラウザ)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="80" y="480" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-23" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#232F3D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.user;" parent="1" vertex="1">
          <mxGeometry x="141" y="510" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-30" style="edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;elbow=vertical;" parent="1" source="viRia6CCxlvn38mifEN6-32" target="viRia6CCxlvn38mifEN6-36" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="440" y="913" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-31" value="②で受け取ったURLを渡す" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" parent="viRia6CCxlvn38mifEN6-30" vertex="1" connectable="0">
          <mxGeometry x="0.2291" y="1" relative="1" as="geometry">
            <mxPoint x="-24" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-32" value="Pongサイト利用者(ブラウザ)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="81" y="880" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-33" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#232F3D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.user;" parent="1" vertex="1">
          <mxGeometry x="141" y="910" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=-0.01;exitY=0.692;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;exitPerimeter=0;" parent="1" source="viRia6CCxlvn38mifEN6-36" target="viRia6CCxlvn38mifEN6-32" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="290" y="970" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;align=right;" parent="1" source="viRia6CCxlvn38mifEN6-36" target="viRia6CCxlvn38mifEN6-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-55" value="access_token取得のため&lt;br&gt;API送信" style="edgeLabel;html=1;align=left;verticalAlign=middle;resizable=0;points=[];fontSize=14;" parent="viRia6CCxlvn38mifEN6-41" vertex="1" connectable="0">
          <mxGeometry x="-0.0037" y="-2" relative="1" as="geometry">
            <mxPoint x="12" y="-5" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-36" value="Pongサイト&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="561" y="880" width="199" height="130" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-37" value="URL内にstateがあるのでそれからcodeを抽出。以下を42認可サーバーに送信&#xa;・client_id&#xa;・client_secret&#xa;・redirect_url&#xa;・code" style="rounded=0;align=left;fillColor=none;strokeColor=none;fontColor=default;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="576" y="912" width="180" height="78" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" parent="1" source="viRia6CCxlvn38mifEN6-38" target="viRia6CCxlvn38mifEN6-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-38" value="42認可サーバー&lt;div&gt;&lt;br/&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="560" y="1080" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-44" value="Pongサイト&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="560" y="680" width="199" height="120" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-45" value="stateとcodeを辞書型にして保存&#xa;dict[state] = code" style="rounded=0;align=left;fillColor=none;strokeColor=none;fontColor=default;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="575" y="710" width="180" height="78" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-49" value="1" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffff88;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="81" y="30" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-50" value="2" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffff88;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="81" y="240" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-51" value="3" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffff88;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="81" y="440" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-54" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;access_tokenを返す&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="1" vertex="1" connectable="0">
          <mxGeometry x="540" y="1040" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-56" value="4" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffff88;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="80" y="840" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-62" value="Pongサイト利用者(ブラウザ)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="81" y="1280" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-63" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#232F3D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.user;" parent="1" vertex="1">
          <mxGeometry x="141" y="1310" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-64" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="1" target="viRia6CCxlvn38mifEN6-62" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="290" y="1370" as="targetPoint" />
            <mxPoint x="560" y="1370" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-74" value="sessionidを渡す。&lt;br&gt;これによってユーザーを認識する" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" parent="viRia6CCxlvn38mifEN6-64" vertex="1" connectable="0">
          <mxGeometry x="-0.4286" y="-1" relative="1" as="geometry">
            <mxPoint x="-51" y="-24" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="viRia6CCxlvn38mifEN6-67" target="viRia6CCxlvn38mifEN6-70" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-66" value="ユーザー情報取得のため&lt;br&gt;API送信&lt;br&gt;(access_token付与)" style="edgeLabel;html=1;align=left;verticalAlign=middle;resizable=0;points=[];fontSize=14;" parent="viRia6CCxlvn38mifEN6-65" vertex="1" connectable="0">
          <mxGeometry x="-0.0037" y="-2" relative="1" as="geometry">
            <mxPoint x="12" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-67" value="Pongサイト&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="561" y="1280" width="199" height="130" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" parent="1" source="viRia6CCxlvn38mifEN6-70" target="viRia6CCxlvn38mifEN6-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-70" value="42認可サーバー&lt;div&gt;&lt;br/&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="560" y="1480" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-71" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;ユーザー情報を返す&lt;br&gt;これによりlogin完了&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="1" vertex="1" connectable="0">
          <mxGeometry x="540" y="1440" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-72" value="５" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffff88;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="81" y="1240" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="viRia6CCxlvn38mifEN6-73" value="42認可サーバーに対しては次のものを利用する&#xa;・access_token&#xa;&#xa;ブラウザに対しては次のものを利用する&#xa;・sessionid" style="rounded=0;align=left;fillColor=none;strokeColor=none;fontColor=default;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="569.5" y="1313" width="180" height="78" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-1" value="サイト管理者が42認可サーバーに対してPongサイトを登録する" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="120" y="30" width="730" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-2" value="サイト利用者が42認証作業を開始する(『42認証』ボタンを押す)" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="120" y="240" width="730" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-3" value="サイト利用者が42認可サーバーに対して、Pongサイトの許可を与える" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="120" y="440" width="730" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-5" value="許可の申請を求める" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="430" y="530" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-7" value="許可する" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="430" y="585" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-8" value="サイト利用者がPongサイトに対してlogin作業を行う（『認証』ボタンを押す)" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="120" y="840" width="730" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-9" value="Pongサイト利用者(ブラウザ)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="840" y="280" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-11" value="Pongサイト&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1080" y="280" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-12" value="42認可サーバー&lt;div&gt;&lt;br/&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1320" y="280" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-13" value="・state(ランダムな文字列)&#xa;" style="rounded=0;align=left;fillColor=none;strokeColor=none;fontColor=default;whiteSpace=wrap;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="850" y="310" width="180" height="78" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-14" value="・client_id&#xa;・clinet_secret&#xa;・redirect_url&#xa;・state(Pongサイトが作成)&#xa;" style="rounded=0;align=left;fillColor=none;strokeColor=none;fontColor=default;whiteSpace=wrap;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1090" y="310" width="180" height="78" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-15" value="・client_id&#xa;・clinet_secret&#xa;・redirect_url&#xa;" style="rounded=0;align=left;fillColor=none;strokeColor=none;fontColor=default;whiteSpace=wrap;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1330" y="310" width="180" height="78" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-16" value="Pongサイト利用者(ブラウザ)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="840" y="480" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-17" value="Pongサイト&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1080" y="480" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-18" value="42認可サーバー&lt;div&gt;&lt;br/&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1320" y="480" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-19" value="・state(ランダムな文字列)&#xa;" style="rounded=0;align=left;fillColor=none;strokeColor=none;fontColor=default;whiteSpace=wrap;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="850" y="510" width="180" height="78" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-20" value="・client_id&#xa;・clinet_secret&#xa;・redirect_url&#xa;・state(ランダムな文字列)&#xa;・code( stateと紐づけ）" style="rounded=0;align=left;fillColor=none;strokeColor=none;fontColor=default;whiteSpace=wrap;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1090" y="510" width="180" height="78" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-21" value="・client_id&#xa;・clinet_secret&#xa;・redirect_url&#xa;・state&#xa;・code(42認可サーバーが作成 )" style="rounded=0;align=left;fillColor=none;strokeColor=none;fontColor=default;whiteSpace=wrap;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1330" y="510" width="180" height="78" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-22" value="Pongサイト利用者(ブラウザ)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="840" y="880" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-23" value="Pongサイト&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1080" y="880" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-24" value="42認可サーバー&lt;div&gt;&lt;br/&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1320" y="880" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-25" value="・state(ランダムな文字列)&#xa;" style="rounded=0;align=left;fillColor=none;strokeColor=none;fontColor=default;whiteSpace=wrap;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="850" y="910" width="180" height="78" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-26" value="・client_id&#xa;・clinet_secret&#xa;・redirect_url&#xa;・state(ランダムな文字列)&#xa;・code( stateと紐づけ）&#xa;・access_token" style="rounded=0;align=left;fillColor=none;strokeColor=none;fontColor=default;whiteSpace=wrap;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1090" y="900" width="180" height="78" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-27" value="・client_id&#xa;・clinet_secret&#xa;・redirect_url&#xa;・state&#xa;・code(42認可サーバーが作成 )&#xa;・access_token" style="rounded=0;align=left;fillColor=none;strokeColor=none;fontColor=default;whiteSpace=wrap;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1330" y="900" width="180" height="90" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-28" value="左の処理が終わった段階で、それぞれが持っているもの" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=15;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="827" y="40" width="420" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-29" value="Pongサイト利用者(ブラウザ)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="840" y="80" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-30" value="Pongサイト&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1080" y="80" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-31" value="42認可サーバー&lt;div&gt;&lt;br/&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1320" y="80" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-32" value="&#xa;" style="rounded=0;align=left;fillColor=none;strokeColor=none;fontColor=default;whiteSpace=wrap;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="850" y="110" width="180" height="78" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-33" value="・client_id&#xa;・clinet_secret&#xa;・redirect_url&#xa;" style="rounded=0;align=left;fillColor=none;strokeColor=none;fontColor=default;whiteSpace=wrap;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1090" y="110" width="180" height="78" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-34" value="・client_id&#xa;・clinet_secret&#xa;・redirect_url&#xa;" style="rounded=0;align=left;fillColor=none;strokeColor=none;fontColor=default;whiteSpace=wrap;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1330" y="110" width="180" height="78" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-35" value="sessionidの受け取り(Responseを受け取るだけ)" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="120" y="1240" width="730" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-42" value="Pongサイト利用者(ブラウザ)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="840" y="1480" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-43" value="Pongサイト&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1080" y="1480" width="200" height="140" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-44" value="42認可サーバー&lt;div&gt;&lt;br/&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1320" y="1480" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-45" value="・state(ランダムな文字列)&#xa;・sessionid(Cokkieに保存)" style="rounded=0;align=left;fillColor=none;strokeColor=none;fontColor=default;whiteSpace=wrap;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="850" y="1510" width="180" height="78" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-46" value="・client_id&#xa;・clinet_secret&#xa;・redirect_url&#xa;・state(ランダムな文字列)&#xa;・code( stateと紐づけ）&#xa;・access_token&#xa;・sessionid(DBに保存)" style="rounded=0;align=left;fillColor=none;strokeColor=none;fontColor=default;whiteSpace=wrap;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1090" y="1500" width="180" height="78" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-47" value="・client_id&#xa;・clinet_secret&#xa;・redirect_url&#xa;・state&#xa;・code(42認可サーバーが作成 )&#xa;・access_token" style="rounded=0;align=left;fillColor=none;strokeColor=none;fontColor=default;whiteSpace=wrap;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1330" y="1500" width="180" height="90" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-48" value="&lt;b&gt;URLサンプル&lt;br&gt;&lt;/b&gt;&lt;br&gt;https://api.intra.42.fr/oauth/authorize?client_id=xxxxxx&amp;amp;redirect_uri=https%3A%2F%2Flocalhost%2Faccounts%&lt;br&gt;2Fredirect-oauth&amp;amp;response_type=code&amp;amp;scope=public&amp;amp;state=xxxxxxxxxxxx" style="rounded=1;whiteSpace=wrap;html=1;align=left;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="81" y="630" width="419" height="100" as="geometry" />
        </mxCell>
        <UserObject label="&lt;a href=&quot;https://api.intra.42.fr/apidoc/guides/web_application_flow&quot;&gt;42&#39;s API guides | Web application flow&lt;/a&gt;" link="https://www.draw.io" id="DnaWuFVCDJVNjVm2aDjR-49">
          <mxCell style="text;html=1;strokeColor=none;fillColor=none;whiteSpace=wrap;align=center;verticalAlign=middle;fontColor=#0000EE;fontStyle=4;" vertex="1" parent="1">
            <mxGeometry x="30" y="-20" width="310" height="40" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-50" value="参考サイト" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="80" y="-40" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DnaWuFVCDJVNjVm2aDjR-51" value="42OAuth認証フロー" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=17;" vertex="1" parent="1">
          <mxGeometry x="520" y="-80" width="170" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
